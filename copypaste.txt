from flask import Blueprint, jsonify
from yahoo_utils import get_yahoo_options

yahoo_bp = Blueprint('yahoo', __name__)

@yahoo_bp.route('/getoptionsdata/<symbol>', methods=['GET'])
def expDates(symbol):
    try:
        optionsData = get_yahoo_options(symbol)
        return jsonify(optionsData)
    except Exception:
        return jsonify({"error": "failed"}), 500